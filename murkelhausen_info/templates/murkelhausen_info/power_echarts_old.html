<script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
<div id="main" style="width: 100%;height:400px;"></div>
<script type="text/javascript">
    // Initialize the echarts instance based on the prepared dom
    var myChart = echarts.init(document.getElementById('main'));

    // Specify the configuration items and data for the chart
    var option = {
        title: {
            text: 'ECharts Getting Started Example'
        },
        toolbox: {
            feature: {
                dataZoom: {
                    yAxisIndex: 'none'
                },
                restore: {},
                saveAsImage: {}
            }
        },
        dataZoom: [
            {
                show: true,
                realtime: true,
                start: 30,
                end: 70,
                xAxisIndex: [0, 1]
            }
        ],
        tooltip: {},
        series: [
            {
                type: 'line',
                data: [{% for element in power_data %}{{ element.power_current|floatformat }},{% endfor %}]
            }
        ],
        xAxis: {
            type: 'category',
            data: [{% for element in power_data %}"{{ element.tstamp_truncated|date:"c" }}",{% endfor %}]
        },
        yAxis: {},

    };

    // Display the chart using the configuration items and data just specified.
    myChart.setOption(option);
</script>