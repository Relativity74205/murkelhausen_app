{% load datetags %}

<div id="container_garmin_body_battery" style="width:100%; height:600px;"></div>
<script>
    let chart_garmin_body_battery;
    document.addEventListener('DOMContentLoaded', function () {
        chart_garmin_body_battery = Highcharts.stockChart('container_garmin_body_battery', {
            rangeSelector: {
                enabled: false
            },
            legend: {
                enabled: true
            },
            yAxis: {
                title: {text: 'Body Battery'},
                opposite: false
            },
            series: [{
                name: 'Body Battery Level',
                data: [{% for row in data_body_battery %}[
                    {{ row.tstamp_epoch }},{{ row.body_battery_level }}], {% endfor %}],
                type: 'spline',
            },
            {
                name: 'Stress Level',
                data: [{% for row in data_stress %}[
                    {{ row.tstamp_epoch }},{{ row.stress_level }}], {% endfor %}],
                type: 'spline',
            }
            ],
        });
    });
</script>
